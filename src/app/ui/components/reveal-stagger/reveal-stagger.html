<div
  (viewportEnter)="handleViewportEnter()"
  (viewportLeave)="handleViewportLeave()"
  appViewportEnter
  appViewportLeave
  class="absolute inset-0"
>
  <ng-content />

  <div class="absolute inset-0 overlay">
    <svg
      [attr.viewBox]="'0 0 ' + columnsCount() + ' 100'"
      class="h-full w-full"
      preserveAspectRatio="none"
    >
      @for (column of columns(); track column) {
        <rect
          [attr.x]="column"
          [class.visible]="visible()"
          [style.transition-delay.ms]="columnTransitionDelayFor(column)"
          [style.transition-duration.ms]="columnTransitionDuration()"
          class="col-rect"
          height="100"
          width="1"
          y="0"
        />
      }
    </svg>
  </div>
</div>
